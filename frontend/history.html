<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https:; font-src https:; img-src 'self' https: data:; connect-src *;">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Donation History – Eco Donations</title>

  <!-- fonts & icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" referrerpolicy="no-referrer">


  <link rel="stylesheet" href="style.css">
</head>
<body onload="loadHistory()">
  <header>
    <h1>Eco Donations</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="donate.html">Donate</a>
      <a href="history.html">Donation History</a>
    </nav>
    <div class="wallet">
      <span id="walletAddress"></span>
      <span id="walletBalance" class="balance"></span>
      <button onclick="connectWallet()" id="connectButton">Connect Wallet</button>
    </div>
  </header>

  <main class="container">
    <div class="card">
      <h2>Your Impact</h2>
      <p class="intro">Below are platform-wide totals, top donors, and your personal contributions.</p>

      <h3>📊 Totals</h3>
      <ul id="totals"></ul>

      <h3>🏆 Top Donors</h3>
      <ul id="topDonors"></ul>

      <h3>🧑‍💻 Your Donations</h3>
      <table id="personalTable">
        <thead><tr><th>Foundation</th><th>Amount (ETH)</th><th>Message</th></tr></thead>
        <tbody></tbody>
      </table>

      <h2>🌐 All Donations</h2>
      <table id="donationTable">
        <thead><tr><th>Foundation</th><th>Donor</th><th>Amount (ETH)</th><th>Message</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </main>

  <script type="module" src="/main.js"></script>

</body>
</html>
